!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function i(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function u(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function p(){return f(" ")}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.data!==t&&(e.data=t)}function m(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function h(e,t,n){e.classList.toggle(t,!!n)}let x;function v(e){x=e}function w(){if(!x)throw new Error("Function called outside component initialization");return x}function b(e){w().$$.on_mount.push(e)}function y(){const e=w();return(t,n,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[t];if(r){const s=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}(t,n,{cancelable:o});return r.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}const E=[],C=[];let _=[];const k=[],R=Promise.resolve();let S=!1;function L(e){_.push(e)}const P=new Set;let M=0;function j(){if(0!==M)return;const e=x;do{try{for(;M<E.length;){const e=E[M];M++,v(e),T(e.$$)}}catch(e){throw E.length=0,M=0,e}for(v(null),E.length=0,M=0;C.length;)C.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];P.has(t)||(P.add(t),t())}_.length=0}while(E.length);for(;k.length;)k.pop()();S=!1,P.clear(),v(e)}function T(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const N=new Set;let A;function O(){A={r:0,c:[],p:A}}function q(){A.r||o(A.c),A=A.p}function z(e,t){e&&e.i&&(N.delete(e),e.i(t))}function B(e,t,n,o){if(e&&e.o){if(N.has(e))return;N.add(e),A.c.push((()=>{N.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function H(e){e&&e.c()}function I(e,n,s){const{fragment:c,after_update:i}=e.$$;c&&c.m(n,s),L((()=>{const n=e.$$.on_mount.map(t).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),i.forEach(L)}function F(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];_.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),_=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(E.push(e),S||(S=!0,R.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,r,s,c,i,l,d=null,u=[-1]){const f=x;v(t);const p=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||f.$$.root};d&&d(p.root);let $=!1;if(p.ctx=s?s(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),$&&D(t,e)),n})):[],p.update(),$=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&z(t.$$.fragment),I(t,r.target,r.anchor),j()}v(f)}class G{$$=void 0;$$set=void 0;$destroy(){F(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function J(t){let n,o,r,s;return{c(){n=u("svg"),o=u("path"),$(o,"d","M5 5 L25 25"),$(o,"stroke",r="rgb("+t[1]+")"),$(o,"stroke-width","2"),$(o,"fill","none"),$(o,"transform",s="\n            rotate("+("right"===t[2]?180:0)+", 15, 15)\n            scale("+(t[0]?"1 1.6":"1 1")+")\n        "),$(o,"class","svelte-10hlj1"),$(n,"width","100%"),$(n,"height","100%"),$(n,"viewBox","0 0 30 30"),$(n,"class","svelte-10hlj1")},m(e,t){l(e,n,t),i(n,o)},p(e,[t]){2&t&&r!==(r="rgb("+e[1]+")")&&$(o,"stroke",r),5&t&&s!==(s="\n            rotate("+("right"===e[2]?180:0)+", 15, 15)\n            scale("+(e[0]?"1 1.6":"1 1")+")\n        ")&&$(o,"transform",s)},i:e,o:e,d(e){e&&a(n)}}}function K(e,t,n){let{isExpanded:o=!1}=t,{offsetColor:r="255, 69, 0"}=t,{position:s="left"}=t;return e.$$set=e=>{"isExpanded"in e&&n(0,o=e.isExpanded),"offsetColor"in e&&n(1,r=e.offsetColor),"position"in e&&n(2,s=e.position)},[o,r,s]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class Q extends G{constructor(e){super(),Y(this,e,K,J,s,{isExpanded:0,offsetColor:1,position:2})}}function U(e){let t,n,o,r,s;const i=e[4].default,u=function(e,t,n,o){if(e){const r=c(e,t,n,o);return e[0](r)}}(i,e,e[3],null);return r=new Q({props:{isExpanded:e[0],offsetColor:e[1],position:"right"}}),{c(){t=d("div"),u&&u.c(),n=p(),o=d("div"),H(r.$$.fragment),$(t,"class","content svelte-uvn3f7"),$(o,"class","logo-container right svelte-uvn3f7")},m(e,c){l(e,t,c),u&&u.m(t,null),l(e,n,c),l(e,o,c),I(r,o,null),s=!0},p(e,t){u&&u.p&&(!s||8&t)&&function(e,t,n,o,r,s){if(r){const i=c(t,n,o,s);e.p(i,r)}}(u,i,e,e[3],s?function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(i,e[3],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[3]),null);const n={};1&t&&(n.isExpanded=e[0]),2&t&&(n.offsetColor=e[1]),r.$set(n)},i(e){s||(z(u,e),z(r.$$.fragment,e),s=!0)},o(e){B(u,e),B(r.$$.fragment,e),s=!1},d(e){e&&(a(t),a(n),a(o)),u&&u.d(e),F(r)}}}function V(e){let t,n,o,r,s,c,u;o=new Q({props:{isExpanded:e[0],offsetColor:e[1],position:"left"}});let f=e[0]&&U(e);return{c(){t=d("div"),n=d("div"),H(o.$$.fragment),r=p(),f&&f.c(),$(n,"class","logo-container left svelte-uvn3f7"),$(t,"class","speed-reader-popup svelte-uvn3f7"),h(t,"expanded",e[0])},m(a,d){var p,$,g,m;l(a,t,d),i(t,n),I(o,n,null),i(t,r),f&&f.m(t,null),s=!0,c||(p=t,$="click",g=e[2],p.addEventListener($,g,m),u=()=>p.removeEventListener($,g,m),c=!0)},p(e,[n]){const r={};1&n&&(r.isExpanded=e[0]),2&n&&(r.offsetColor=e[1]),o.$set(r),e[0]?f?(f.p(e,n),1&n&&z(f,1)):(f=U(e),f.c(),z(f,1),f.m(t,null)):f&&(O(),B(f,1,1,(()=>{f=null})),q()),(!s||1&n)&&h(t,"expanded",e[0])},i(e){s||(z(o.$$.fragment,e),z(f),s=!0)},o(e){B(o.$$.fragment,e),B(f),s=!1},d(e){e&&a(t),F(o),f&&f.d(),c=!1,u()}}}function W(e,t,n){let{$$slots:o={},$$scope:r}=t,{isExpanded:s=!1}=t,{offsetColor:c="255, 69, 0"}=t;const i=y();return b((()=>{console.log("Popup component mounted")})),e.$$set=e=>{"isExpanded"in e&&n(0,s=e.isExpanded),"offsetColor"in e&&n(1,c=e.offsetColor),"$$scope"in e&&n(3,r=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&console.log("Popup isExpanded changed:",s)},[s,c,function(){console.log("Popup clicked"),i("click")},r,o]}class X extends G{constructor(e){super(),Y(this,e,W,V,s,{isExpanded:0,offsetColor:1})}}function Z(t){let n,o;return{c(){n=d("span"),o=f(t[0]),$(n,"class","speed-reader-before svelte-15ms0k2")},m(e,t){l(e,n,t),i(n,o)},p(e,[t]){1&t&&g(o,e[0])},i:e,o:e,d(e){e&&a(n)}}}function ee(e,t,n){let{before:o=""}=t;return e.$$set=e=>{"before"in e&&n(0,o=e.before)},[o]}class te extends G{constructor(e){super(),Y(this,e,ee,Z,s,{before:0})}}function ne(t){let n,o;return{c(){n=d("span"),o=f(t[0]),$(n,"class","speed-reader-center svelte-1objx8a")},m(e,t){l(e,n,t),i(n,o)},p(e,[t]){1&t&&g(o,e[0])},i:e,o:e,d(e){e&&a(n)}}}function oe(e,t,n){let{center:o=""}=t;return e.$$set=e=>{"center"in e&&n(0,o=e.center)},[o]}class re extends G{constructor(e){super(),Y(this,e,oe,ne,s,{center:0})}}function se(t){let n,o;return{c(){n=d("span"),o=f(t[0]),$(n,"class","speed-reader-after svelte-jqlppn")},m(e,t){l(e,n,t),i(n,o)},p(e,[t]){1&t&&g(o,e[0])},i:e,o:e,d(e){e&&a(n)}}}function ce(e,t,n){let{after:o=""}=t;return e.$$set=e=>{"after"in e&&n(0,o=e.after)},[o]}class ie extends G{constructor(e){super(),Y(this,e,ce,se,s,{after:0})}}function le(t){let n,o;return n=new re({props:{center:"Click to start"}}),{c(){H(n.$$.fragment)},m(e,t){I(n,e,t),o=!0},p:e,i(e){o||(z(n.$$.fragment,e),o=!0)},o(e){B(n.$$.fragment,e),o=!1},d(e){F(n,e)}}}function ae(e){let t,n,o,r,s,c;return t=new te({props:{before:e[0]}}),o=new re({props:{center:e[1]}}),s=new ie({props:{after:e[2]}}),{c(){H(t.$$.fragment),n=p(),H(o.$$.fragment),r=p(),H(s.$$.fragment)},m(e,i){I(t,e,i),l(e,n,i),I(o,e,i),l(e,r,i),I(s,e,i),c=!0},p(e,n){const r={};1&n&&(r.before=e[0]),t.$set(r);const c={};2&n&&(c.center=e[1]),o.$set(c);const i={};4&n&&(i.after=e[2]),s.$set(i)},i(e){c||(z(t.$$.fragment,e),z(o.$$.fragment,e),z(s.$$.fragment,e),c=!0)},o(e){B(t.$$.fragment,e),B(o.$$.fragment,e),B(s.$$.fragment,e),c=!1},d(e){e&&(a(n),a(r)),F(t,e),F(o,e),F(s,e)}}}function de(e){let t,n,o,r,s,c;const u=[ae,le],f=[];function g(e,t){return e[3]||e[1]&&"Click to start"!==e[1]?0:1}return r=g(e),s=f[r]=u[r](e),{c(){t=d("div"),n=d("div"),o=p(),s.c(),$(n,"class","speed-reader-line svelte-xsvelt"),$(t,"class","speed-reader-content svelte-xsvelt")},m(e,s){l(e,t,s),i(t,n),i(t,o),f[r].m(t,null),c=!0},p(e,[n]){let o=r;r=g(e),r===o?f[r].p(e,n):(O(),B(f[o],1,1,(()=>{f[o]=null})),q(),s=f[r],s?s.p(e,n):(s=f[r]=u[r](e),s.c()),z(s,1),s.m(t,null))},i(e){c||(z(s),c=!0)},o(e){B(s),c=!1},d(e){e&&a(t),f[r].d()}}}function ue(e,t,n){let{before:o=""}=t,{center:r=""}=t,{after:s=""}=t,{isReading:c=!1}=t;return e.$$set=e=>{"before"in e&&n(0,o=e.before),"center"in e&&n(1,r=e.center),"after"in e&&n(2,s=e.after),"isReading"in e&&n(3,c=e.isReading)},[o,r,s,c]}class fe extends G{constructor(e){super(),Y(this,e,ue,de,s,{before:0,center:1,after:2,isReading:3})}}function pe(t){let n;return{c(){n=d("div"),$(n,"class","speed-reader-progress svelte-1r2yrqc"),m(n,"width",t[0]+"%")},m(e,t){l(e,n,t)},p(e,[t]){1&t&&m(n,"width",e[0]+"%")},i:e,o:e,d(e){e&&a(n)}}}function $e(e,t,n){let{progress:o=0}=t;return e.$$set=e=>{"progress"in e&&n(0,o=e.progress)},[o]}class ge extends G{constructor(e){super(),Y(this,e,$e,pe,s,{progress:0})}}function me(e){let t,n,o,r,s;return n=new fe({props:{before:e[2].before,center:e[2].center,after:e[2].after,isReading:e[4]}}),r=new ge({props:{progress:e[3]}}),{c(){t=d("div"),H(n.$$.fragment),o=p(),H(r.$$.fragment),$(t,"class","content-wrapper svelte-s3gzzj")},m(e,c){l(e,t,c),I(n,t,null),i(t,o),I(r,t,null),s=!0},p(e,t){const o={};4&t&&(o.before=e[2].before),4&t&&(o.center=e[2].center),4&t&&(o.after=e[2].after),16&t&&(o.isReading=e[4]),n.$set(o);const s={};8&t&&(s.progress=e[3]),r.$set(s)},i(e){s||(z(n.$$.fragment,e),z(r.$$.fragment,e),s=!0)},o(e){B(n.$$.fragment,e),B(r.$$.fragment,e),s=!1},d(e){e&&a(t),F(n),F(r)}}}function he(e){let t,n,o=e[0]&&me(e);return{c(){o&&o.c(),t=f("")},m(e,r){o&&o.m(e,r),l(e,t,r),n=!0},p(e,n){e[0]?o?(o.p(e,n),1&n&&z(o,1)):(o=me(e),o.c(),z(o,1),o.m(t.parentNode,t)):o&&(O(),B(o,1,1,(()=>{o=null})),q())},i(e){n||(z(o),n=!0)},o(e){B(o),n=!1},d(e){e&&a(t),o&&o.d(e)}}}function xe(e){let t,n;return t=new X({props:{isExpanded:e[0],offsetColor:e[1],$$slots:{default:[he]},$$scope:{ctx:e}}}),t.$on("click",e[5]),{c(){H(t.$$.fragment)},m(e,o){I(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.isExpanded=e[0]),2&n&&(o.offsetColor=e[1]),4125&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(z(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function ve(e,t,n){let o,{words:r=[]}=t,{wordsPerMinute:s=400}=t,{isExpanded:c=!1}=t,{offsetColor:i="255, 69, 0"}=t,l={before:"",center:"",after:""},a=0,d=!1,u=0;function f(){console.log("startReading called"),n(4,d=!0),u=0,o=setInterval((()=>{u<r.length?(n(2,l=function(e){const t=e.length,n=Math.floor((t-1)/2);return{before:e.slice(0,n),center:e[n],after:e.slice(n+1)}}(r[u])),n(3,a=(u+1)/r.length*100),u++):(p(),n(2,l={before:"",center:"Finished",after:""}))}),6e4/s)}function p(){console.log("stopReading called"),n(4,d=!1),clearInterval(o)}var $;return b((()=>{console.log("SpeedReader component mounted")})),$=()=>{o&&clearInterval(o),console.log("SpeedReader component destroyed")},w().$$.on_destroy.push($),e.$$set=e=>{"words"in e&&n(6,r=e.words),"wordsPerMinute"in e&&n(7,s=e.wordsPerMinute),"isExpanded"in e&&n(0,c=e.isExpanded),"offsetColor"in e&&n(1,i=e.offsetColor)},e.$$.update=()=>{1&e.$$.dirty&&console.log("isExpanded changed:",c)},[c,i,l,a,d,function(){console.log("handleClick called"),c&&(d?p():f())},r,s]}class we extends G{constructor(e){super(),Y(this,e,ve,xe,s,{words:6,wordsPerMinute:7,isExpanded:0,offsetColor:1})}}let be,ye=null,Ee=null,Ce=null,_e=null,ke=!1;function Re(e){if(console.log("Mouse moved"),Se(e))return ke=!0,void clearTimeout(Ce);clearTimeout(Ee),clearTimeout(Ce),Ee=setTimeout((()=>{console.log("Hover timeout triggered");const t=e.target,n=t.innerText.split(/\s+/);n.length>=10&&t!==ye?(console.log("Showing SpeedReader"),ye=t,ke=!0,function(e,t,n){console.log("showSpeedReader called"),be&&(console.log("Destroying existing SpeedReader"),be.$destroy());const o=t.getBoundingClientRect(),r=o.left+o.width/2-15,s=e.clientY-15;_e=document.createElement("div"),document.body.appendChild(_e),t.classList.add("paragraph-highlight"),be=new we({target:_e,props:{words:n,wordsPerMinute:400,isExpanded:!1,offsetColor:"255, 69, 0"}}),console.log("SpeedReader component created:",be),_e.style.position="absolute",_e.style.left=`${Math.max(0,r)}px`,_e.style.top=`${s}px`,_e.style.width="30px",_e.style.height="30px",_e.style.overflow="hidden",_e.style.transition="width 0.3s, height 0.3s",_e.addEventListener("mouseenter",(()=>{clearTimeout(Ce),ke=!0,console.log("Expanding SpeedReader"),be&&_e&&(_e.style.width="300px",_e.style.height="100px",be.$set({isExpanded:!0}),ye&&ye.classList.add("expanded"))})),_e.addEventListener("mouseleave",Pe),t.addEventListener("mouseleave",Le)}(e,t,n)):t!==ye&&(console.log("Hiding SpeedReader"),ke=!1,je())}),300)}function Se(e){return _e&&_e.contains(e.target)||ye&&ye.contains(e.target)}function Le(e){console.log("Paragraph left"),Se(e)||Me()}function Pe(e){console.log("SpeedReader left"),Se(e)||Me(),console.log("Shrinking SpeedReader"),be&&_e&&(_e.style.width="30px",_e.style.height="30px",be.$set({isExpanded:!1}),ye&&ye.classList.remove("expanded"))}function Me(){clearTimeout(Ce),Ce=setTimeout((()=>{console.log("Hide timeout triggered"),ke||je()}),1e3)}function je(){console.log("hideSpeedReader called"),be&&(be.$destroy(),be=null),_e&&(_e.remove(),_e=null),ye&&(ye.classList.remove("paragraph-highlight","expanded"),ye=null),ke=!1}document.addEventListener("mousemove",Re),window.addEventListener("unload",(()=>{document.removeEventListener("mousemove",Re),je()}))}();
//# sourceMappingURL=content.js.map
