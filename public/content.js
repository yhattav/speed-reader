!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function i(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function a(e){return document.createElement(e)}function l(e){return document.createTextNode(e)}function d(){return l(" ")}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function p(e,t){t=""+t,e.data!==t&&(e.data=t)}function m(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let g;function h(e){g=e}function b(){if(!g)throw new Error("Function called outside component initialization");return g}function y(){const e=b();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const c=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,c)})),!c.defaultPrevented}return!0}}const v=[],x=[];let w=[];const _=[],E=Promise.resolve();let k=!1;function M(e){w.push(e)}const P=new Set;let C=0;function R(){if(0!==C)return;const e=g;do{try{for(;C<v.length;){const e=v[C];C++,h(e),j(e.$$)}}catch(e){throw v.length=0,C=0,e}for(h(null),v.length=0,C=0;x.length;)x.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];P.has(t)||(P.add(t),t())}w.length=0}while(v.length);for(;_.length;)_.pop()();k=!1,P.clear(),h(e)}function j(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const L=new Set;let q,A;function N(e,t){e&&e.i&&(L.delete(e),e.i(t))}function O(e,t,n,r){if(e&&e.o){if(L.has(e))return;L.add(e),q.c.push((()=>{L.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function T(e){e&&e.c()}function I(e,n,c,s){const{fragment:i,after_update:u}=e.$$;i&&i.m(n,c),s||M((()=>{const n=e.$$.on_mount.map(t).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(M)}function B(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];w.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),w=t}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function F(e,t){-1===e.$$.dirty[0]&&(v.push(e),k||(k=!0,E.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function S(t,o,c,s,i,u,a,l=[-1]){const d=g;h(t);const $=t.$$={fragment:null,ctx:[],props:u,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:o.target||d.$$.root};a&&a($.root);let p=!1;if($.ctx=c?c(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return $.ctx&&i($.ctx[e],$.ctx[e]=o)&&(!$.skip_bound&&$.bound[e]&&$.bound[e](o),p&&F(t,e)),n})):[],$.update(),p=!0,r($.before_update),$.fragment=!!s&&s($.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);$.fragment&&$.fragment.l(e),e.forEach(f)}else $.fragment&&$.fragment.c();o.intro&&N(t.$$.fragment),I(t,o.target,o.anchor,o.customElement),R()}h(d)}class z{$destroy(){B(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Y(e){let t,n,r,o;const c=e[2].default,i=function(e,t,n,r){if(e){const o=s(e,t,n,r);return e[0](o)}}(c,e,e[1],null);return{c(){t=a("div"),i&&i.c(),$(t,"class","speed-reader-popup svelte-1dey6ce")},m(c,s){var f,a,l,d;u(c,t,s),i&&i.m(t,null),n=!0,r||(f=t,a="click",l=e[0],f.addEventListener(a,l,d),o=()=>f.removeEventListener(a,l,d),r=!0)},p(e,[t]){i&&i.p&&(!n||2&t)&&function(e,t,n,r,o,c){if(o){const i=s(t,n,r,c);e.p(i,o)}}(i,c,e,e[1],n?function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(c,e[1],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[1]),null)},i(e){n||(N(i,e),n=!0)},o(e){O(i,e),n=!1},d(e){e&&f(t),i&&i.d(e),r=!1,o()}}}function D(e,t,n){let{$$slots:r={},$$scope:o}=t;const c=y();return e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[function(){c("click")},o,r]}class G extends z{constructor(e){super(),S(this,e,D,Y,c,{})}}function H(t){let n,r;return{c(){n=a("span"),r=l(t[0]),$(n,"class","speed-reader-before svelte-15ms0k2")},m(e,t){u(e,n,t),i(n,r)},p(e,[t]){1&t&&p(r,e[0])},i:e,o:e,d(e){e&&f(n)}}}function J(e,t,n){let{before:r=""}=t;return e.$$set=e=>{"before"in e&&n(0,r=e.before)},[r]}class K extends z{constructor(e){super(),S(this,e,J,H,c,{before:0})}}function Q(t){let n,r;return{c(){n=a("span"),r=l(t[0]),$(n,"class","speed-reader-center svelte-44q5p0")},m(e,t){u(e,n,t),i(n,r)},p(e,[t]){1&t&&p(r,e[0])},i:e,o:e,d(e){e&&f(n)}}}function U(e,t,n){let{center:r=""}=t;return e.$$set=e=>{"center"in e&&n(0,r=e.center)},[r]}class V extends z{constructor(e){super(),S(this,e,U,Q,c,{center:0})}}function W(t){let n,r;return{c(){n=a("span"),r=l(t[0]),$(n,"class","speed-reader-after svelte-jqlppn")},m(e,t){u(e,n,t),i(n,r)},p(e,[t]){1&t&&p(r,e[0])},i:e,o:e,d(e){e&&f(n)}}}function X(e,t,n){let{after:r=""}=t;return e.$$set=e=>{"after"in e&&n(0,r=e.after)},[r]}class Z extends z{constructor(e){super(),S(this,e,X,W,c,{after:0})}}function ee(t){let n,r;return n=new V({props:{center:"Click to start"}}),{c(){T(n.$$.fragment)},m(e,t){I(n,e,t),r=!0},p:e,i(e){r||(N(n.$$.fragment,e),r=!0)},o(e){O(n.$$.fragment,e),r=!1},d(e){B(n,e)}}}function te(e){let t,n,r,o,c,s;return t=new K({props:{before:e[0]}}),r=new V({props:{center:e[1]}}),c=new Z({props:{after:e[2]}}),{c(){T(t.$$.fragment),n=d(),T(r.$$.fragment),o=d(),T(c.$$.fragment)},m(e,i){I(t,e,i),u(e,n,i),I(r,e,i),u(e,o,i),I(c,e,i),s=!0},p(e,n){const o={};1&n&&(o.before=e[0]),t.$set(o);const s={};2&n&&(s.center=e[1]),r.$set(s);const i={};4&n&&(i.after=e[2]),c.$set(i)},i(e){s||(N(t.$$.fragment,e),N(r.$$.fragment,e),N(c.$$.fragment,e),s=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),O(c.$$.fragment,e),s=!1},d(e){B(t,e),e&&f(n),B(r,e),e&&f(o),B(c,e)}}}function ne(e){let t,n,o,c,s,l;const p=[te,ee],m=[];function g(e,t){return e[3]||e[1]&&"Click to start"!==e[1]?0:1}return c=g(e),s=m[c]=p[c](e),{c(){t=a("div"),n=a("div"),o=d(),s.c(),$(n,"class","speed-reader-line svelte-xsvelt"),$(t,"class","speed-reader-content svelte-xsvelt")},m(e,r){u(e,t,r),i(t,n),i(t,o),m[c].m(t,null),l=!0},p(e,[n]){let o=c;c=g(e),c===o?m[c].p(e,n):(q={r:0,c:[],p:q},O(m[o],1,1,(()=>{m[o]=null})),q.r||r(q.c),q=q.p,s=m[c],s?s.p(e,n):(s=m[c]=p[c](e),s.c()),N(s,1),s.m(t,null))},i(e){l||(N(s),l=!0)},o(e){O(s),l=!1},d(e){e&&f(t),m[c].d()}}}function re(e,t,n){let{before:r=""}=t,{center:o=""}=t,{after:c=""}=t,{isReading:s=!1}=t;return e.$$set=e=>{"before"in e&&n(0,r=e.before),"center"in e&&n(1,o=e.center),"after"in e&&n(2,c=e.after),"isReading"in e&&n(3,s=e.isReading)},[r,o,c,s]}class oe extends z{constructor(e){super(),S(this,e,re,ne,c,{before:0,center:1,after:2,isReading:3})}}function ce(t){let n;return{c(){n=a("div"),$(n,"class","speed-reader-progress svelte-1r2yrqc"),m(n,"width",t[0]+"%")},m(e,t){u(e,n,t)},p(e,[t]){1&t&&m(n,"width",e[0]+"%")},i:e,o:e,d(e){e&&f(n)}}}function se(e,t,n){let{progress:r=0}=t;return e.$$set=e=>{"progress"in e&&n(0,r=e.progress)},[r]}class ie extends z{constructor(e){super(),S(this,e,se,ce,c,{progress:0})}}function ue(e){let t,n,r,o;return t=new oe({props:{before:e[0].before,center:e[0].center,after:e[0].after,isReading:e[2]}}),r=new ie({props:{progress:e[1]}}),{c(){T(t.$$.fragment),n=d(),T(r.$$.fragment)},m(e,c){I(t,e,c),u(e,n,c),I(r,e,c),o=!0},p(e,n){const o={};1&n&&(o.before=e[0].before),1&n&&(o.center=e[0].center),1&n&&(o.after=e[0].after),4&n&&(o.isReading=e[2]),t.$set(o);const c={};2&n&&(c.progress=e[1]),r.$set(c)},i(e){o||(N(t.$$.fragment,e),N(r.$$.fragment,e),o=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),o=!1},d(e){B(t,e),e&&f(n),B(r,e)}}}function fe(e){let t,n;return t=new G({props:{$$slots:{default:[ue]},$$scope:{ctx:e}}}),t.$on("click",e[3]),{c(){T(t.$$.fragment)},m(e,r){I(t,e,r),n=!0},p(e,[n]){const r={};1031&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function ae(e,t,n){let r,{words:o=[]}=t,{wordsPerMinute:c=400}=t,s={before:"",center:"",after:""},i=0,u=!1,f=0;function a(){n(2,u=!0),f=0,r=setInterval((()=>{f<o.length?(n(0,s=function(e){const t=e.length,n=Math.floor((t-1)/2);return{before:e.slice(0,n),center:e[n],after:e.slice(n+1)}}(o[f])),n(1,i=(f+1)/o.length*100),f++):(l(),n(0,s={before:"",center:"Finished",after:""}))}),6e4/c)}function l(){n(2,u=!1),clearInterval(r)}var d;return d=()=>{r&&clearInterval(r)},b().$$.on_destroy.push(d),e.$$set=e=>{"words"in e&&n(4,o=e.words),"wordsPerMinute"in e&&n(5,c=e.wordsPerMinute)},[s,i,u,function(){u?l():a()},o,c]}class le extends z{constructor(e){super(),S(this,e,ae,fe,c,{words:4,wordsPerMinute:5})}}let de=null,$e=null;function pe(e){A&&A.$$.fragment&&A.$$.fragment.contains(e.target)||(clearTimeout($e),$e=setTimeout((()=>{const t=e.target,n=t.innerText.split(/\s+/);n.length>=10&&t!==de?(de=t,function(e,t,n){A&&A.$destroy();const r=t.getBoundingClientRect(),o=r.left+r.width/2-150,c=e.clientY,s=document.createElement("div");document.body.appendChild(s),A=new le({target:s,props:{words:n,wordsPerMinute:400}}),s.style.position="absolute",s.style.left=`${Math.max(0,o)}px`,s.style.top=`${c}px`}(e,t,n)):t===de||A&&A.$$.fragment.contains(t)||function(){A&&(A.$destroy(),A=null);de=null}()}),300))}document.addEventListener("mousemove",pe),window.addEventListener("unload",(()=>{document.removeEventListener("mousemove",pe),A&&A.$destroy()}))}();
//# sourceMappingURL=content.js.map
